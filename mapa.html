<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  // ðŸ”´ MISMO firebaseConfig
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const plane = viewer.entities.add({
  position: Cesium.Cartesian3.fromDegrees(0,0,1000),
  point: { pixelSize: 12, color: Cesium.Color.RED }
});

viewer.trackedEntity = plane;

onValue(ref(db, "an32/position"), snap => {
  const d = snap.val();
  if (!d) return;
  plane.position = Cesium.Cartesian3.fromDegrees(d.lon, d.lat, d.alt);
});
</script>
